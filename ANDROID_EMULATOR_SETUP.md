# Руководство по установке и настройке Android эмулятора

## Шаг 1: Установка Android Studio

1. **Скачайте Android Studio:**
   - Перейдите на https://developer.android.com/studio
   - Скачайте Android Studio для Windows
   - Установите его (обычно ~1 ГБ)

2. **При первом запуске Android Studio:**
   - Выберите "Standard" установку
   - Дождитесь загрузки Android SDK и компонентов

## Шаг 2: Установка Android SDK компонентов

1. Откройте Android Studio
2. Перейдите в **Tools → SDK Manager** (или **File → Settings → Appearance & Behavior → System Settings → Android SDK**)
3. Установите:
   - **Android SDK Platform-Tools**
   - **Android SDK Build-Tools**
   - **Android Emulator**
   - **Android SDK Platform** (выберите последнюю версию, например Android 13 или 14)
   - **Intel x86 Emulator Accelerator (HAXM installer)** - для ускорения эмулятора

## Шаг 3: Создание виртуального устройства (AVD)

1. В Android Studio перейдите в **Tools → Device Manager** (или **Tools → AVD Manager**)
2. Нажмите **Create Device**
3. Выберите устройство:
   - Рекомендуется: **Pixel 5** или **Pixel 6**
   - Или любое другое по вашему выбору
4. Нажмите **Next**
5. Выберите системный образ:
   - Рекомендуется: **API Level 33 (Android 13)** или выше
   - Если образа нет, нажмите **Download** рядом с нужным API
   - Дождитесь загрузки (может занять время)
6. Нажмите **Next**
7. Настройте AVD (можно оставить по умолчанию):
   - **AVD Name**: можно изменить или оставить
   - **Startup orientation**: Portrait (вертикальная)
8. Нажмите **Finish**

## Шаг 4: Запуск эмулятора

### Способ 1: Через Android Studio
1. В **Device Manager** найдите созданное устройство
2. Нажмите кнопку **Play** (▶) рядом с устройством
3. Дождитесь загрузки эмулятора (первый запуск может занять 2-5 минут)

### Способ 2: Через командную строку
```bash
# Список доступных эмуляторов
emulator -list-avds

# Запуск конкретного эмулятора (замените имя на ваше)
emulator -avd Pixel_5_API_33
```

## Шаг 5: Запуск Flutter приложения на эмуляторе

1. **Убедитесь, что эмулятор запущен** (вы должны видеть окно с Android устройством)

2. **Проверьте доступные устройства:**
   ```bash
   flutter devices
   ```
   Вы должны увидеть что-то вроде:
   ```
   sdk gphone64 arm64 (mobile) • emulator-5554 • android-arm64 • Android 13 (API 33)
   ```

3. **Запустите приложение:**
   ```bash
   flutter run
   ```
   Flutter автоматически выберет эмулятор, если он единственный

   Или укажите конкретное устройство:
   ```bash
   flutter run -d emulator-5554
   ```

## Альтернатива: Использование физического устройства через USB

Если у вас есть Android телефон:

1. **Включите режим разработчика:**
   - Перейдите в **Настройки → О телефоне**
   - Нажмите 7 раз на **Номер сборки**
   - Появится сообщение "Вы стали разработчиком"

2. **Включите отладку по USB:**
   - Перейдите в **Настройки → Для разработчиков**
   - Включите **Отладка по USB**

3. **Подключите телефон к компьютеру через USB**

4. **Разрешите отладку:**
   - На телефоне появится запрос "Разрешить отладку по USB?"
   - Поставьте галочку "Всегда разрешать с этого компьютера"
   - Нажмите **OK**

5. **Проверьте подключение:**
   ```bash
   flutter devices
   ```

6. **Запустите приложение:**
   ```bash
   flutter run
   ```

## Решение проблем

### Проблема: Эмулятор работает медленно
**Решение:**
- Включите **Hardware acceleration** в настройках эмулятора
- Установите **HAXM** (Intel) или **Hypervisor** (AMD)
- Увеличьте RAM эмулятора до 2-4 ГБ в настройках AVD

### Проблема: "emulator: command not found"
**Решение:**
- Добавьте путь к Android SDK в переменные окружения:
  - Windows: `C:\Users\ВашеИмя\AppData\Local\Android\Sdk\emulator`
  - Добавьте в PATH через: Панель управления → Система → Дополнительные параметры системы → Переменные среды

### Проблема: Flutter не видит эмулятор
**Решение:**
1. Убедитесь, что эмулятор полностью загрузился (виден рабочий стол Android)
2. Перезапустите эмулятор
3. Проверьте: `adb devices` (должен показать устройство)

### Проблема: Недостаточно места на диске
**Решение:**
- Android SDK и эмуляторы занимают много места (~10-20 ГБ)
- Освободите место или установите на другой диск

## Минимальные требования для эмулятора

- **RAM**: минимум 8 ГБ (рекомендуется 16 ГБ)
- **Диск**: минимум 20 ГБ свободного места
- **Процессор**: поддержка виртуализации (VT-x для Intel, AMD-V для AMD)

## Быстрая проверка

После установки выполните:
```bash
flutter doctor
```

Должно показать:
- ✅ Flutter установлен
- ✅ Android toolchain установлен
- ✅ Android Studio установлен
- ✅ Android license принят
- ✅ Connected device (эмулятор или физическое устройство)

## Полезные команды

```bash
# Проверить статус Flutter
flutter doctor

# Список устройств
flutter devices

# Запустить приложение
flutter run

# Запустить с горячей перезагрузкой (r в консоли)
flutter run

# Остановить приложение
# Нажмите 'q' в консоли или Ctrl+C

# Очистить кэш и пересобрать
flutter clean
flutter pub get
flutter run
```

## Рекомендации

1. **Используйте эмулятор Pixel 5 или Pixel 6** - они хорошо оптимизированы
2. **API Level 33 (Android 13)** - стабильная версия
3. **Выделите эмулятору 2-4 ГБ RAM** для комфортной работы
4. **Первый запуск эмулятора может занять 3-5 минут** - это нормально
5. **Держите эмулятор запущенным** во время разработки - так быстрее

---

**Готово!** Теперь вы можете запускать Flutter приложения на Android эмуляторе.

