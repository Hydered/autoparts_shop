/// Карта кодов мобильных операторов России
/// Ключ: первые 3 цифры номера (после +7)
/// Значение: название оператора
final Map<String, String> russianOperators = {
  // МТС (основные коды)
  '910': 'МТС', '911': 'МТС', '912': 'МТС', '913': 'МТС', '914': 'МТС', '915': 'МТС', '916': 'МТС', '917': 'МТС',
  // МТС (дополнительные коды)
  '980': 'МТС', '981': 'МТС', '982': 'МТС', '983': 'МТС', '984': 'МТС', '985': 'МТС', '986': 'МТС', '987': 'МТС', '988': 'МТС', '989': 'МТС',

  // Билайн (ВымпелКом) - основные коды
  '903': 'Билайн', '905': 'Билайн', '906': 'Билайн', '909': 'Билайн',
  // Билайн (ВымпелКом) - дополнительные коды
  '960': 'Билайн', '961': 'Билайн', '962': 'Билайн', '963': 'Билайн', '964': 'Билайн',
  '965': 'Билайн', '966': 'Билайн', '967': 'Билайн', '968': 'Билайн', '969': 'Билайн',

  // Мегафон - основные коды
  '920': 'Мегафон', '921': 'Мегафон', '922': 'Мегафон', '923': 'Мегафон', '924': 'Мегафон',
  '925': 'Мегафон', '926': 'Мегафон', '927': 'Мегафон', '928': 'Мегафон', '929': 'Мегафон',
  // Мегафон - дополнительные коды
  '930': 'Мегафон', '931': 'Мегафон', '932': 'Мегафон', '933': 'Мегафон', '934': 'Мегафон',
  '935': 'Мегафон', '936': 'Мегафон', '937': 'Мегафон', '938': 'Мегафон', '939': 'Мегафон',

  // Tele2
  '900': 'Tele2', '901': 'Tele2', '902': 'Tele2', '904': 'Tele2',

  // Yota (Йота)
  '999': 'Yota',

  // Тинькофф Мобайл
  '995': 'Тинькофф', '996': 'Тинькофф', '997': 'Тинькофф',

  // Ростелеком
  '950': 'Ростелеком', '951': 'Ростелеком', '952': 'Ростелеком', '953': 'Ростелеком',

  // СберМобайл
  '970': 'СберМобайл', '971': 'СберМобайл',
};

String? detectRussianOperator(String formattedPhone) {
  // formattedPhone: +7 (xxx) xxx-xx-xx
  final reg = RegExp(r'\+7 \((\d{3})\)');
  final match = reg.firstMatch(formattedPhone);
  if (match != null && match.groupCount >= 1) {
    final code = match.group(1)!;
    return russianOperators[code];
  }
  return null;
}

